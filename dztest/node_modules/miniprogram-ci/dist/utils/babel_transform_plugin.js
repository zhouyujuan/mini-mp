"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@babel/core").types,addSideEffect=require("@babel/helper-module-imports").addSideEffect,isModule=require("@babel/helper-module-imports").isModule;function hasStaticMapping(e,t,r,i){try{if("Object"===e){if("entries"===t||"values"===t)return!0}else if("includes"===t){if("Identifier"===r||"ArrayExpression"===r)return!0;if("MemberExpression"===r&&"prototype"===i.property.name&&"Array"===i.object.name)return!0}return!1}catch(e){return!1}}exports.default={name:"transform-runtime-custom",pre(e){const r=new Map;this.addDefaultImport=(i,n,o)=>{const s=`${i}:${n}:${isModule(e.path)||""}`;let a=r.get(s);return a?a=t.cloneNode(a):(a=addSideEffect(e.path,i,{importedInterop:"uncompiled",nameHint:n,blockHoist:o}),r.set(s,a)),a}},visitor:{MemberExpression:{enter(e){const{node:r}=e,{object:i,property:n}=r;if(!t.isReferenced(i,r))return;let o=i.name;const s=n.name;hasStaticMapping(o,s,i.type,i)&&("Object"!==o&&(o="Array"),this.addDefaultImport(`@babel/runtime/helpers/${o}${s}`))}}}};