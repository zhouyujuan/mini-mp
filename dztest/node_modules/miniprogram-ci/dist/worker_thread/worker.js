"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),process.env&&process.env.isDevtools&&require("../utils/hackrequire/index");const worker_threads_1=require("worker_threads"),processTask=require("./task/index"),config_1=require("./config");worker_threads_1.isMainThread?module.exports=processTask:worker_threads_1.parentPort.on("message",e=>{const{command:r,data:s}=e;r===config_1.COMMAND.RUN_TASK&&processTask(s.taskName,s.data).then(e=>{worker_threads_1.parentPort.postMessage({command:config_1.COMMAND.TASK_DONE,data:e})}).catch(e=>{worker_threads_1.parentPort.postMessage({command:config_1.COMMAND.TASK_DONE,data:{error:e.toString()}})})});