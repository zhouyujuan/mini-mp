{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\n\nexports.__esModule = true;\n\nexports.default = function (path) {\n  var scope = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : path.scope;\n  var node = path.node;\n\n  var container = t.functionExpression(null, [], node.body, node.generator, node.async);\n\n  var callee = container;\n  var args = [];\n\n  (0, _babelHelperHoistVariables2.default)(path, function (id) {\n    return scope.push({ id: id });\n  });\n\n  var state = {\n    foundThis: false,\n    foundArguments: false\n  };\n\n  path.traverse(visitor, state);\n\n  if (state.foundArguments) {\n    callee = t.memberExpression(container, t.identifier(\"apply\"));\n    args = [];\n\n    if (state.foundThis) {\n      args.push(t.thisExpression());\n    }\n\n    if (state.foundArguments) {\n      if (!state.foundThis) args.push(t.nullLiteral());\n      args.push(t.identifier(\"arguments\"));\n    }\n  }\n\n  var call = t.callExpression(callee, args);\n  if (node.generator) call = t.yieldExpression(call, true);\n\n  return t.returnStatement(call);\n};\n\nvar _babelHelperHoistVariables = require(\"babel-helper-hoist-variables\");\n\nvar _babelHelperHoistVariables2 = _interopRequireDefault(_babelHelperHoistVariables);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar visitor = {\n  enter: function enter(path, state) {\n    if (path.isThisExpression()) {\n      state.foundThis = true;\n    }\n\n    if (path.isReferencedIdentifier({ name: \"arguments\" })) {\n      state.foundArguments = true;\n    }\n  },\n  Function: function Function(path) {\n    path.skip();\n  }\n};\n\nmodule.exports = exports[\"default\"];"]}