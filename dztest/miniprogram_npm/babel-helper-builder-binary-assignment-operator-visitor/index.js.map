{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\n\nexports.__esModule = true;\n\nexports.default = function (opts) {\n  var visitor = {};\n\n  function isAssignment(node) {\n    return node && node.operator === opts.operator + \"=\";\n  }\n\n  function buildAssignment(left, right) {\n    return t.assignmentExpression(\"=\", left, right);\n  }\n\n  visitor.ExpressionStatement = function (path, file) {\n    if (path.isCompletionRecord()) return;\n\n    var expr = path.node.expression;\n    if (!isAssignment(expr)) return;\n\n    var nodes = [];\n    var exploded = (0, _babelHelperExplodeAssignableExpression2.default)(expr.left, nodes, file, path.scope, true);\n\n    nodes.push(t.expressionStatement(buildAssignment(exploded.ref, opts.build(exploded.uid, expr.right))));\n\n    path.replaceWithMultiple(nodes);\n  };\n\n  visitor.AssignmentExpression = function (path, file) {\n    var node = path.node,\n        scope = path.scope;\n\n    if (!isAssignment(node)) return;\n\n    var nodes = [];\n    var exploded = (0, _babelHelperExplodeAssignableExpression2.default)(node.left, nodes, file, scope);\n    nodes.push(buildAssignment(exploded.ref, opts.build(exploded.uid, node.right)));\n    path.replaceWithMultiple(nodes);\n  };\n\n  visitor.BinaryExpression = function (path) {\n    var node = path.node;\n\n    if (node.operator === opts.operator) {\n      path.replaceWith(opts.build(node.left, node.right));\n    }\n  };\n\n  return visitor;\n};\n\nvar _babelHelperExplodeAssignableExpression = require(\"babel-helper-explode-assignable-expression\");\n\nvar _babelHelperExplodeAssignableExpression2 = _interopRequireDefault(_babelHelperExplodeAssignableExpression);\n\nvar _babelTypes = require(\"babel-types\");\n\nvar t = _interopRequireWildcard(_babelTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = exports[\"default\"];"]}